# Haskell의 takeWhile 함수 상세 가이드

## 1. 정의

`takeWhile`은 리스트의 원소들을 순차적으로 검사하면서, 주어진 조건(predicate)을 만족하는 원소들만 새로운 리스트로 만드는 함수입니다. 조건을 만족하지 않는 첫 번째 원소를 만나면 즉시 중단됩니다.

### 타입 시그니처

```haskell
takeWhile :: (a -> Bool) -> [a] -> [a]
```

여기서:

- 첫 번째 매개변수 `(a -> Bool)`는 각 원소를 검사할 predicate 함수입니다
- 두 번째 매개변수 `[a]`는 입력 리스트입니다
- 반환값 `[a]`는 조건을 만족하는 원소들로 구성된 새로운 리스트입니다

## 2. 기본 사용법

```haskell
-- 기본적인 예시
takeWhile (<5) [1,2,3,4,5,6,1,2,3]  -- 결과: [1,2,3,4]
takeWhile even [2,4,6,7,8,10]        -- 결과: [2,4,6]
```

## 3. 구현 방법

`takeWhile`의 간단한 구현은 다음과 같습니다:

```haskell
takeWhile :: (a -> Bool) -> [a] -> [a]
takeWhile _ [] = []                        -- 빈 리스트인 경우
takeWhile p (x:xs)
    | p x       = x : takeWhile p xs       -- 조건을 만족하면 계속 진행
    | otherwise = []                       -- 조건을 만족하지 않으면 중단
```

## 4. 실제 사용 예시

### 4.1 숫자 리스트 처리

```haskell
-- 양수만 취하기
takeWhile (>0) [3,1,4,-1,5,9]     -- 결과: [3,1,4]

-- 10보다 작은 수만 취하기
takeWhile (<10) [1..20]           -- 결과: [1,2,3,4,5,6,7,8,9]
```

### 4.2 문자열 처리

```haskell
-- 공백 전까지의 문자 취하기
takeWhile (/= ' ') "Hello World"   -- 결과: "Hello"

-- 소문자만 취하기
import Data.Char (isLower)
takeWhile isLower "abcdEFGhij"    -- 결과: "abcd"
```

### 4.3 복잡한 조건 사용

```haskell
-- 합이 100 미만인 원소들만 취하기
let sum' = sum . take 1            -- 현재까지의 합 계산
takeWhile (\x -> sum' [x] < 100) [20,30,40,50,60]  -- 결과: [20,30,40]

-- 튜플 리스트에서 조건 사용
takeWhile (\(x,y) -> x + y < 10) [(1,2), (3,4), (5,6)]  -- 결과: [(1,2), (3,4)]
```

## 5. 주요 활용 사례

1. **데이터 필터링**

   - 특정 조건을 만족하는 데이터만 추출
   - 스트림 처리에서 첫 번째 실패 지점까지의 데이터 획득

2. **입력 유효성 검사**

   - 유효한 입력 시퀀스 추출
   - 에러가 발생하기 전까지의 데이터 수집

3. **텍스트 처리**
   - 특정 구분자까지의 문자열 추출
   - 패턴 매칭을 통한 텍스트 파싱

## 6. takeWhile vs. filter 비교

```haskell
-- takeWhile: 조건이 false가 되는 순간 중단
takeWhile (<3) [1,2,3,1,2]        -- 결과: [1,2]

-- filter: 모든 원소를 검사
filter (<3) [1,2,3,1,2]           -- 결과: [1,2,1,2]
```

## 7. 주의사항

1. **무한 리스트 처리**

   - takeWhile은 무한 리스트에서도 안전하게 사용 가능
   - 단, 조건이 언젠가는 false가 되어야 함

2. **성능 고려사항**

   - 리스트의 앞부분부터 순차적으로 처리
   - 큰 리스트에서도 효율적으로 동작 (조건이 false가 되면 즉시 중단)

3. **빈 리스트 처리**
   - 빈 리스트를 입력받으면 빈 리스트 반환
   - 별도의 예외 처리 필요 없음
